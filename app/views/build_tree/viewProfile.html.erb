<%@profile.each do |pro | %>
  <div class="profile_container">
    <div class="row">
    <% @user_details = Profile.find_by(id:pro.id) %>
        <div class="col-xs-12 col-sm-6 col-md-6">
            <div class="well well-sm">
                <div class="row">
                    <div class="col-sm-6 col-md-4">
                      <% if @user_details.avatar? %>
      <%= image_tag @user_details.avatar.url(:thumb), :class => "img-rounded img-responsive" %>
    <% end %>
                       
                    </div>
                    <div class="col-sm-6 col-md-8">
                        <h4>
                        <%= @user_details.fname + " " +@user_details.lname %></h4>
                        <small><cite title="San Francisco, USA">San Francisco, USA <i class="glyphicon glyphicon-map-marker">
                        </i></cite></small>
                        <p>
                            <i class="glyphicon glyphicon-envelope"></i><%= @user_details.email %>
                            <br />
                            <!-- <i class="glyphicon glyphicon-globe"></i><a href="http://www.jquery2dotnet.com">www.jquery2dotnet.com</a>
                            <br /> -->
                            <i class="glyphicon glyphicon-gift"></i><%= @user_details.dob %></p>
                        <!-- Split button -->
                        
                    </div>
                </div>
            </div>
        </div>

    </div>
    
</div>
    <% end %>
   <link href="https://fonts.googleapis.com/css?family=Gochi+Hand" rel="stylesheet">

<script src="https://balkangraph.com/js/latest/OrgChart.js"></script>

<div id="tree"></div>
    
    <script>

window.onload = function () { 

    var familyGroupTag = {
        group: true,
        template: "group_grey",
        groupState: OrgChart.EXPAND
    };


    var chart = new OrgChart(document.getElementById("tree"), {
        template: "diva",
        enableDragDrop: true,
        nodeBinding: {
            field_0: "name",
            field_1: "title",
            img_0: "img"
        },
        tags: {
            f1: familyGroupTag,
            f2: familyGroupTag,
            f3: familyGroupTag,
            f4: familyGroupTag,
            f5: familyGroupTag
        },
        nodes: [
            { id: 1, tags: ["f1"], name: "King George VI", img: "https://cdn.balkan.app/shared/f1.png" },
            { id: 2, tags: ["f1"], name: "Queen Elizabeth", title: "The Queen Mother", img: "https://cdn.balkan.app/shared/f2.png" },
            { id: 3, tags: ["f2"], pid: 2, name: "Prince Philip", title: "Duke of Edinburgh", img: "https://cdn.balkan.app/shared/f3.png" },
            { id: 4, tags: ["f2"], pid: 2, name: "Queen Elizabeth II", img: "https://cdn.balkan.app/shared/f5.png" },
            { id: 5, pid: 2, name: "Princess Margaret", img: "https://cdn.balkan.app/shared/f6.png" },
            { id: 6, tags: ["f3"], pid: 4, name: "Camila", title: "Duchess of Cornwall", img: "https://cdn.balkan.app/shared/f7.png" },
            { id: 7, tags: ["f3"], pid: 4, name: "Charles", title: "Prince of Wales", img: "https://cdn.balkan.app/shared/f8.png" },
            { id: 8, tags: ["f3"], pid: 4, name: "Diana", title: "Princess of Wales", img: "https://cdn.balkan.app/shared/f9.png" },
            { id: 9, pid: 4, name: "Anne", title: "Princess Royal", img: "https://cdn.balkan.app/shared/f10.png" },
            { id: 10, pid: 4, name: "Prince Andrew", title: "Duke of York", img: "https://cdn.balkan.app/shared/f11.png" },
            { id: 11, pid: 4, name: "Prince Edward", title: "Earl of Wessex", img: "https://cdn.balkan.app/shared/f12.png" },
            { id: 12, tags: ["f4"], pid: 7, name: "Catherine", title: "Duchess of Cambridge", img: "https://cdn.balkan.app/shared/f13.png" },
            { id: 13, tags: ["f4"], pid: 7, name: "Prince William", title: "Duch of Cambridge", img: "https://cdn.balkan.app/shared/f14.png" },
            { id: 14, tags: ["f5"], pid: 7, name: "Prince Harry", img: "https://cdn.balkan.app/shared/f15.png" },
            { id: 15, tags: ["f5"], pid: 7, name: "Meghan Markle", img: "https://cdn.balkan.app/shared/f16.png" },
            { id: 16, pid: 12, name: "Prince George of Cambridge", img: "https://cdn.balkan.app/shared/f17.png" },
            { id: 17, pid: 12, name: "Prince Charlotte of Cambridge", img: "https://cdn.balkan.app/shared/f18.png" },
            { id: 18, pid: 12, name: "Prince Louis of Cambridge", img: "https://cdn.balkan.app/shared/f19.png" }
        ]
    });
};
    </script>